# Copilot Instructions for PhilGEPS Awards Dashboard

## Project Overview
- **Monorepo** with two main apps:
  - `backend/` — Django 4.2 REST API, SQLite, Parquet data, data processing scripts
  - `frontend/` — React 19, TypeScript, Vite, Styled Components, design system
- **Data pipeline**: Raw XLSX/CSV → Python scripts (`scripts/`) → Parquet/aggregated data → API → Dashboard
- **Docs**: See `README.md`, `docs/`, and `scripts/README.md` for architecture, data flow, and developer workflow

## Key Workflows
- **Environment setup**: Use `setup_env.sh` (or `.ps1`/`.bat`) to generate `.env` files for both apps
- **Unified run**: Use `run_local.sh` (or `.ps1`/`.bat`) to start both backend and frontend together
- **Backend**: `python manage.py runserver` (default port 8000, can be changed)
- **Frontend**: `npm run dev` (default port 5173, can be changed)
- **Data processing**: Run scripts in `scripts/` for ETL, aggregation, and cleaning

## Conventions & Patterns
- **Frontend**: Functional React components, hooks, feature-based structure (`src/components/features/`), design system in `src/design-system/`
- **Backend**: Django apps: `contracts/`, `data_processing/`, `philgeps_data_explorer/` (settings)
- **API**: RESTful, documented in `docs/ACTIVE_API_DOCUMENTATION.md` and `frontend/src/pages/ApiDocumentation.tsx`
- **Env files**: Generated by script, not committed; use `env.example`/`env.template` as reference
- **Code style**: Python (PEP8), TypeScript (ESLint + Prettier), Styled Components for CSS
- **Testing**: Frontend uses Jest; backend uses Django test runner

## Integration & Data Flow
- **Frontend ↔ Backend**: All data via REST API; see `frontend/src/services/` for API calls
- **Data pipeline**: See `scripts/README.md` and `scripts/DATA_PIPELINE.md` for ETL and aggregation logic
- **Parquet**: All analytics data is stored in Parquet files, processed by Python scripts

## Examples
- To add a new API endpoint: update Django `contracts/` or `data_processing/`, document in `ACTIVE_API_DOCUMENTATION.md`, add usage in `frontend/src/services/`
- To add a new dashboard feature: create a feature in `frontend/src/components/features/`, use hooks/services for data

## References
- Main: `README.md`, `docs/`, `scripts/README.md`, `backend/django/README.md`, `frontend/README.md`
- Data: `data/README.md`, `PARQUET_STRUCTURE_ANALYSIS.md`, `PARQUET_USAGE_ANALYSIS.md`
- API: `docs/ACTIVE_API_DOCUMENTATION.md`, `frontend/src/pages/ApiDocumentation.tsx`

---


## Git Best Practices
- Make regular, clear git commits as you work. Each logical change should be a separate commit with a descriptive message.
- Do not commit generated `.env` files or other sensitive/environment-specific files; use `.env.example` or `.env.template` for reference.
- Use feature branches for new features or fixes (`git checkout -b feature/your-feature`).
- Keep documentation and code in sync—update docs with relevant code changes.

For new patterns, follow the structure and conventions in the referenced files. When in doubt, check the relevant README or documentation file for that component.
